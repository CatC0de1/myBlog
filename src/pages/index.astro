---
import { getCollection } from 'astro:content';
import type { CollectionEntry } from 'astro:content';

import Layout from '../layouts/Layout.astro';

const blogPosts = await getCollection('blog');
type BlogPost = CollectionEntry<'blog'>;
---

<Layout title="Homepage">
	<h1>Homepage</h1>
	
	<h2>Slider Posts</h2>
	<ul>
		{
			blogPosts
				.filter((post: BlogPost) => post.data.isPinned)
				.map((post: BlogPost) => (
					<li>
						<a href={`/blog/${post.slug}`}>{post.data.title}</a>
					</li>
				))
		}
	</ul>

	<h2>Articles</h2>
	<ul>
		{
			blogPosts
				.map((post: BlogPost) => (
					<li>
						<a href={`/blog/${post.slug}`}>{post.data.title}</a>
					</li>
				))
		}
	</ul>
</Layout>
